import{Provider as e,createRequest as r,useQuery as t}from"urql";export*from"urql";import*as n from"react";import{ServerInsertedHTMLContext as a}from"next/navigation";var o={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},i=/[&><\u2028\u2029]/g,s=n.createContext(void 0),u=({nonce:e,children:r})=>{var t=n.useRef();return"undefined"==typeof window&&(t.current||(t.current=function({nonce:e}){var r={isInjecting:!1,operationValuesByKey:{},RehydrateScript(){if(r.isInjecting=!1,!Object.keys(r.operationValuesByKey).length)return n.createElement(n.Fragment);var t,a,s=(t={rehydrate:{...r.operationValuesByKey}},`(window[Symbol.for("urql_transport")] ??= []).push(${a=JSON.stringify(t),a.replace(i,(e=>o[e]))})`);return r.operationValuesByKey={},n.createElement("script",{key:c++,nonce:e,dangerouslySetInnerHTML:{__html:s}})}};return r}({nonce:e}))),n.createElement(s.Provider,{value:t.current},r)},c=0,d=n.createContext(void 0);function y({children:r,ssr:t,client:a,nonce:o}){return n.createElement(e,{value:a},n.createElement(d.Provider,{value:t},n.createElement(u,{nonce:o},r)))}var l=Symbol.for("urql_transport");function f(e){var r=n.useContext(d),t=function(){var e=n.useContext(s),r=n.useContext(a);if("undefined"==typeof window)return r&&e&&!e.isInjecting&&(e.isInjecting=!0,r((()=>n.createElement(e.RehydrateScript,{})))),e}();if(!r)throw new Error('Missing "UrqlProvider" component as a parent or did not pass in an "ssrExchange" to the Provider.');if("undefined"==typeof window){var o=r.extractData();if(t&&o[e]){var i=o[e],u={...i,extensions:i.extensions?JSON.parse(i.extensions):i.extensions,data:i.data?JSON.parse(i.data):i.data,error:i.error};t.operationValuesByKey[e]=u}}else{var c=(window[l]||[]).find((r=>r&&r.rehydrate&&r.rehydrate[e]));if(c){var y=c.rehydrate&&c.rehydrate[e];y&&(delete c.rehydrate[e],r.restoreData({[e]:{extensions:JSON.stringify(y.extensions),data:JSON.stringify(y.data),error:y.error}}),delete c.rehydrate[e])}}}function p(e){var n=r(e.query,e.variables||{});f(n.key);var[a,o]=t(e);return f(n.key),[a,o]}export{d as SSRContext,y as UrqlProvider,p as useQuery};
//# sourceMappingURL=urql-next.min.mjs.map
